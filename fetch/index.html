<!DOCTYPE html>
<html>
<head>
	<title>Fetch countries</title>

	<style type="text/css">
		#response {
			width: 700px;
			height: 700px;
			border: solid 1px #000;
			background: #2e2e2e;
			color: #fff;
			overflow: scroll;
		}
	</style>
</head>
<body>

	<input type="text" name="countryName" id="countryName">
	<button onclick="searchCountry()">Get all countries</button>
	<span id="httpStatus"></span>
	<div id="response"></div>

  <script type="text/javascript">

  	const countryName=document.getElementById('countryName');
  	countryName.addEventListener('focus', (e) => {
  		document.getElementById('httpStatus').innerHTML='';
  	});

  	function searchCountry() {

  		const countryName=document.getElementById('countryName').value.trim();

	  	if (countryName == '') {

	  		alert('Country name is required!');
	  		return false;
	  	}

  		// const url='https://restcountries.eu/rest/v2/all';
  		const url=`https://restcountries.eu/rest/v2/name/${countryName}`;
  		const dataResp=fetch(url);

  		const httpStatus=document.getElementById('httpStatus');

  		httpStatus.innerHTML='Loanding...';

	  	dataResp
	  		.then(resp => resp.json())
	  		.then((data) => {

	  			document.getElementById('response').innerHTML=JSON.stringify(data);
	  			httpStatus.innerHTML='Success...';

	  		})
	  		.catch((e) => httpStatus.innerHTML=e.message)
  	}

  </script>
</body>
</html>
